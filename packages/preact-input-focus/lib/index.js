function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var t=require("preact"),u=require("preact/compat"),n=e(require("lodash/findIndex")),r=e(require("lodash/pull")),o=e(require("lodash/find")),c=e(require("lodash/sortBy")),i=e(require("lodash/uniqueId")),s=(0,u.createContext)({}),a=function(e){var t=e.FocusableContext,u=e.createElement,i=e.useRef;return function(e){var s,a,f=e.children,d=i((s=[],{value:{addInput:function(e,t,u){void 0===u&&(u=s.length);var n=o(s,{key:e});n?n.input=t:(s=[{key:e,input:t,index:u}].concat(s),s=c(s,"index"))},removeInput:function(e){r(s,{key:e})},focusInput:a=function(e){var t=(s[e]||{}).input;setTimeout(function(){t&&t.focus()})},focusNextInput:function(e){var t=n(s,{key:e});a(t+1)}}}));return u(t.Provider,d.current,f)}}({FocusableContext:s,createElement:t.createElement,useRef:u.useRef}),f=function(e){var t=e.FocusableContext,u=e.useContext,n=e.useRef,r=e.useMemo;return function(e){var o=e.children,c=e.index,s=u(t),a=s.focusInput,f=s.focusNextInput,d=s.addInput,l=s.removeInput,p=n(i("react-input-focus-core-")).current;return o(r(function(){return{focusableInputRef:function(e){return e?d(p,e,c):l(p)},focusNextInput:function(){return f(p)},focusInput:a}},[]))}}({FocusableContext:s,useContext:u.useContext,useRef:u.useRef,useMemo:u.useMemo});exports.FocusableProvider=a,exports.FocusableInput=f;
